<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Classwork - task 3 (lesson 2)</title>

    <script>
        // ### Задача 3.
        // Следующий код создает массив функций-стрелков shoooters. По замыслу, каждый стрелок должен выводить свой номер:

        //        function makeArmy() {
        //            var shooters = [];
        //
        //            for (var i = 0; i < 10; i++) {
        //                var shooter = function () { // функция-стрелок
        //                    alert(i); // выводит свой номер
        //                };
        //                shooters.push(shooter);
        //            }
        //            return shooters;
        //        }

        //        var army = makeArmy();
        //        army[0](); // стрелок выводит 10, а должен 0
        //        army[5](); // стрелок выводит 10, а должен 5.

        // Сейчас все функции-стрелки выводят 10 вместо своего номера.
        // Поправьте код, чтобы при вызове каждой из них она выводила свой номер(индекс в массиве).
        // Предложите несколько вариантов.


        // Решение №1

        function makeArmy() {
            var shooters = [];

            for (var i = 0; i < 10; i++) {
                var shooter = (function (num) { // функция-стрелок
                    return function () {
                        alert(num); // выводит свой номер
                    }
                }(i));
                shooters.push(shooter);
            }
            return shooters;
        }
        var army = makeArmy();
        army[0](); // стрелок выводит 10, а должен 0
        army[5](); // стрелок выводит 10, а должен 5.

        // Решение №2

        function makeArmy_1() {
            var shooters = [];

            for (var i = 0; i< 10; i++) {
                var shooter = function shoot() { // функция-стрелок
                    alert(shoot.num); // выводит свой номер
                };
                shooter.num = i;
                shooters.push(shooter);
            }
            return shooters;
        }
        var army_1 = makeArmy_1();
        army_1[6](); // стрелок выводит 10, а должен 0
        army_1[9](); // стрелок выводит 10, а должен 5.
    </script>

</head>
<body>

</body>
</html>